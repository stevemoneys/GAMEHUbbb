body {
  background: #1b1b1b;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.ludo-board {
  width: 65vmin;
  height: 65vmin;
  background: #f4f4f4;
  display: grid;
  grid-template-columns: repeat(15, 1fr);
  grid-template-rows: repeat(15, 1fr);
  border-radius: 20px;
  box-shadow: 0 25px 60px rgba(0,0,0,.6);
  position: relative;
}

.token-slot {
 background: transparent;
  border: none;
   border-radius: 50%;
  box-shadow: none
  }

.token-slot {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}


/* COLORS */


/* CENTER STAR */

.path.red,
.path.green,
.path.yellow,
.path.blue {
  opacity: 0.9;
}
.home {
  z-index: 2;
}

.path {
  z-index: 3;
}

.center-triangle {
  z-index: 4;
}

.token.red {
  background: radial-gradient(circle at 30% 30%, #ff8a80, #c62828);
}

.token.green {
  background: radial-gradient(circle at 30% 30%, #81c784, #2e7d32);
}

.token.yellow {
  background: radial-gradient(circle at 30% 30%, #fff176, #f9a825);
}

.token.blue {
  background: radial-gradient(circle at 30% 30%, #64b5f6, #1565c0);
}

.cell {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}
.token {
 background: none !important;
   width: 70%;
  height: 70%;
  position: relative;
  z-index: 20;
  pointer-events: auto;
}

.dice-container {
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  perspective: 800px;
}

.dice {
  width: 60px;
  height: 60px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 1s cubic-bezier(.25,.8,.25,1);
}

.face {
  position: absolute;
  width: 60px;
  height: 60px;
  background: white;
  border-radius: 12px;
  display: grid;
  place-items: center;
  box-shadow: inset 0 0 8px rgba(0,0,0,.2);
}

/* FACE POSITIONS */
.one   { transform: rotateY(0deg) translateZ(30px); }
.two   { transform: rotateY(90deg) translateZ(30px); }
.three { transform: rotateY(180deg) translateZ(30px); }
.four  { transform: rotateY(-90deg) translateZ(30px); }
.five  { transform: rotateX(90deg) translateZ(30px); }
.six   { transform: rotateX(-90deg) translateZ(30px); }
.home {
  grid-column: span 6;
  grid-row: span 6;
  position: relative;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 14%;
  padding: 14%;
}





.token-slot::after {
  color: white;
  font-size: 1.2em;
}
.home.red    { grid-area: 1 / 1 / 7 / 7; background: #e53935; color:#e53935; }
.home.green  { grid-area: 1 / 10 / 7 / 16; background: #43a047; color:#43a047; }
.home.yellow { grid-area: 10 / 10 / 16 / 16; background: #fdd835; color:#fdd835; }
.home.blue   { grid-area: 10 / 1 / 16 / 7; background: #1e88e5; color:#1e88e5; }



.path.safe {
  background: #ddd;
}
.cell {
  border: 1px solid #ddd;
  background: #fff;
}

.path.red { background: #e53935; }
.path.green { background: #43a047; }
.path.yellow { background: #fdd835; }
.path.blue { background: #1e88e5; }

.home {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}

.home-inner {
  width: 70%;
  height: 70%;
  background: #fff;
  border-radius: 12%;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 18%;
  padding: 18%;
}



/* =========================
   CENTER TRIANGLES â€” FIXED
   Top: Red
   Right: Green
   Bottom: Yellow
   Left: Blue
========================= */

.center-triangle {
  grid-area: 7 / 7 / 10 / 10;
  width: 100%;
  height: 100%;
  position: absolute;
  z-index: 10;
}

/* ðŸ”´ TOP */
.center-red {
  background: #43a047;
  clip-path: polygon(0 0, 100% 0, 50% 50%);
}

/* ðŸŸ¢ RIGHT */
.center-green {
  background: #fdd835;
  clip-path: polygon(100% 0, 100% 100%, 50% 50%);
}

/* ðŸŸ¡ BOTTOM */
.center-yellow {
  background: #1e88e5;
  clip-path: polygon(0 100%, 100% 100%, 50% 50%);
}

/* ðŸ”µ LEFT */
.center-blue {
  background: #e53935;
  clip-path: polygon(0 0, 50% 50%, 0 100%);
}



.cell {
  z-index: 1;
}
/* Ensure colored paths stay above white cells */
.path.red,
.path.green,
.path.yellow,
.path.blue {
  z-index: 5;
}
.dice {
  width: 70px;
  height: 70px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.35s cubic-bezier(.17,.67,.5,1.15);
  cursor: pointer;
}


.face {
  position: absolute;
  width: 100%;
  height: 100%;
  background: white;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.face img {
  width: 80%;
  height: 80%;
  object-fit: contain;
}
.token img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  pointer-events: none;
}
.home .token {
  width: 80%;
  height: 80%;
}

.path {
  background: #ffffff;
  border: 1px solid #ccc;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
}
/* =========================
   GAME WRAPPER LAYOUT
========================= */
.game-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  gap: 40px;
}

/* =========================
   DICE POSITION (LEFT SIDE)
========================= */
.dice-panel.left {
  position: relative;
  width: 90px;
  height: 90px;
}

.dice-container {
  position: relative;
  perspective: 800px;
}

/* Make sure dice is visible */
.dice {
  display: block;
  margin: auto;
}
.token.selectable {
  outline: 3px solid gold;
  box-shadow: 0 0 12px gold;
  cursor: pointer;
}

/* gameplay visibility and token styling overrides */
.ludo-board {
  overflow: visible;
}

.home {
  z-index: 2;
}

.cell,
.path {
  z-index: 6;
  overflow: visible;
}

.token-slot {
  z-index: 8;
}

.token {
  width: 82%;
  height: 82%;
  padding: 8%;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  position: relative;
  z-index: 20;
}

.path .token {
  width: 92%;
  height: 92%;
}

.home .token {
  width: 86%;
  height: 86%;
}

.token img {
  width: 78%;
  height: 78%;
  object-fit: contain;
}

.token.red {
  background: #f06a5f !important;
  border: 2px solid #ca4338;
}

.token.green {
  background: #67c77f !important;
  border: 2px solid #2f8a48;
}

.token.yellow {
  background: #ffe084 !important;
  border: 2px solid #d1ad2e;
}

.token.blue {
  background: #6eabff !important;
  border: 2px solid #2f6fbf;
}

/* single-player presentation tweaks */
body {
  margin: 0;
  overflow: hidden;
}

.game-wrapper {
  justify-content: center;
}

.token {
  width: 88%;
  height: 88%;
}

.path .token {
  width: 96%;
  height: 96%;
}

/* token itself should not carry the colored circle on the path */
.token.red,
.token.green,
.token.yellow,
.token.blue {
  background: transparent !important;
  border: none !important;
}

/* fixed home circles (stay in big boxes like real ludo) */
.token-slot.generated::before {
  content: "";
  position: absolute;
  width: 72%;
  height: 72%;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1;
}

.token-slot.generated[data-color="red"]::before {
  background: #f28a83;
  border: 2px solid #c9554c;
}

.token-slot.generated[data-color="green"]::before {
  background: #8cd7a0;
  border: 2px solid #3d9455;
}

.token-slot.generated[data-color="yellow"]::before {
  background: #ffe89c;
  border: 2px solid #d6b645;
}

.token-slot.generated[data-color="blue"]::before {
  background: #8cbfff;
  border: 2px solid #4677c9;
}

.token-slot .token {
  position: relative;
  z-index: 2;
}

/* stage and four-edge dice layout */
body {
  min-height: 100vh;
  margin: 0;
}

.game-wrapper {
  width: 100%;
  justify-content: center;
}

.ludo-stage {
  position: relative;
  display: inline-block;
}

.dice-panel {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 40;
}

.dice-panel.top-left {
  left: -110px;
  top: -110px;
}

.dice-panel.top-right {
  right: -110px;
  top: -110px;
}

.dice-panel.bottom-left {
  left: -110px;
  bottom: -110px;
}

.dice-panel.bottom-right {
  right: -110px;
  bottom: -110px;
}

#dice-red,
#dice-green,
#dice-yellow,
#dice-blue {
  cursor: pointer;
}

.dice-static {
  width: 70px;
  height: 70px;
  border-radius: 12px;
  background: #f2f2f2;
  border: 2px solid #d7d7d7;
  box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.15);
  transform: none !important;
}

.dice-panel[data-color="red"] #dice-red {
  border-color: #c9554c;
}

.dice-panel[data-color="green"] #dice-green {
  border-color: #3d9455;
}

.dice-panel[data-color="yellow"] #dice-yellow {
  border-color: #d6b645;
}

.dice-panel[data-color="blue"] #dice-blue {
  border-color: #4677c9;
}

.dice-panel.dice-active {
  box-shadow: 0 0 0 2px #ffffff, 0 0 18px 6px rgba(255, 215, 0, 0.8);
  border-radius: 16px;
}

/* prevent path tiles from visually crossing into home quadrants */
.home {
  z-index: 30 !important;
}

.cell,
.path {
  z-index: 8 !important;
}

.token-slot.generated {
  z-index: 35 !important;
}

.token-slot.generated .token {
  z-index: 36 !important;
}

/* keep path tokens visible across blue/down zone and center crossings */
.home {
  z-index: 4 !important;
}

.center-triangle {
  z-index: 6 !important;
}

.cell,
.path {
  z-index: 12 !important;
}

.path .token {
  z-index: 60 !important;
}

/* highlight styles */
.token.selectable-gold {
  outline: 4px solid #ffd700;
  box-shadow: 0 0 0 2px #7a5b00, 0 0 16px 4px rgba(255, 215, 0, 0.8);
  border-radius: 50%;
}

.token.selectable-black {
  outline: 3px solid #111;
  box-shadow: 0 0 0 2px #f5f5f5, 0 0 10px rgba(0, 0, 0, 0.65);
  border-radius: 50%;
}

.token.capturing {
  transform: scale(0.7);
  opacity: 0.6;
  transition: transform 0.12s ease-out, opacity 0.12s ease-out;
}

.cell.red-home-turn::after {
  content: "âžœ";
  position: absolute;
  font-size: 20px;
  font-weight: 700;
  color: #b32020;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.9);
  line-height: 1;
  pointer-events: none;
}

.cell.green-home-turn::after {
  content: "â–¼";
  position: absolute;
  font-size: 20px;
  font-weight: 700;
  color: #1f7a33;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.9);
  line-height: 1;
  pointer-events: none;
}

.cell.yellow-home-turn::after {
  content: "â—€";
  position: absolute;
  font-size: 20px;
  font-weight: 700;
  color: #9a7a00;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.9);
  line-height: 1;
  pointer-events: none;
}

.cell.blue-home-turn::after {
  content: "â–²";
  position: absolute;
  font-size: 20px;
  font-weight: 700;
  color: #1d5fb3;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.9);
  line-height: 1;
  pointer-events: none;
}

/* center must show only triangles, no square cell backgrounds */
.cell[style*="grid-row: 7"][style*="grid-column: 8"],
.cell[style*="grid-row: 8"][style*="grid-column: 7"],
.cell[style*="grid-row: 8"][style*="grid-column: 9"],
.cell[style*="grid-row: 9"][style*="grid-column: 8"],
.cell[style*="grid-row: 8"][style*="grid-column: 8"] {
  background: transparent !important;
  border-color: transparent !important;
}

.cell.safe-star::before {
  content: "*";
  position: absolute;
  font-size: 17px;
  font-weight: 700;
  color: #2f2f2f;
  text-shadow: 0 1px 0 #ffffff;
  pointer-events: none;
}

.goal-slot {
  position: absolute;
  width: 18%;
  height: 18%;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: 4px;
  pointer-events: none;
  z-index: 70;
}

.goal-red {
  left: 39%;
  top: 41%;
}

.goal-green {
  left: 43%;
  top: 39%;
}

.goal-yellow {
  left: 43%;
  top: 45%;
}

.goal-blue {
  left: 37%;
  top: 44%;
}

.goal-slot .token {
  width: 38%;
  height: 38%;
}

.result-modal {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.45);
  z-index: 9999;
}

.result-modal.show {
  display: flex;
}

.result-card {
  background: #ffffff;
  color: #111111;
  border-radius: 12px;
  padding: 20px 28px;
  font-size: 28px;
  font-weight: 800;
  letter-spacing: 1px;
  box-shadow: 0 14px 40px rgba(0, 0, 0, 0.35);
}

/* final token size override: much bigger but still constrained to cells */
.token {
  width: 96% !important;
  height: 96% !important;
  padding: 4% !important;
}

.path .token {
  width: 100% !important;
  height: 100% !important;
}

.token img {
  width: 90% !important;
  height: 90% !important;
}

.inactive {
  display: none !important;
}

body.orient-red .ludo-board {
  transform: rotate(0deg);
}

body.orient-green .ludo-board {
  transform: rotate(-90deg);
}

body.orient-yellow .ludo-board {
  transform: rotate(180deg);
}

body.orient-blue .ludo-board {
  transform: rotate(90deg);
}

body.orient-red .token img { transform: rotate(0deg); }
body.orient-green .token img { transform: rotate(90deg); }
body.orient-yellow .token img { transform: rotate(180deg); }
body.orient-blue .token img { transform: rotate(-90deg); }

.home.red {
  background: linear-gradient(135deg, #ff4d4d, #d7263d) !important;
}

.home.green {
  background: linear-gradient(135deg, #34d399, #059669) !important;
}

.home.yellow {
  background: linear-gradient(135deg, #ffd166, #f59e0b) !important;
}

.home.blue {
  background: linear-gradient(135deg, #38bdf8, #2563eb) !important;
}

.path.red {
  background: #ff6b6b !important;
}

.path.green {
  background: #4ade80 !important;
}

.path.yellow {
  background: #fbbf24 !important;
}

.path.blue {
  background: #60a5fa !important;
}

.home.disabled-home {
  display: flex !important;
  outline: 4px solid rgba(255, 255, 255, 0.8);
  outline-offset: -4px;
  filter: saturate(0.9) brightness(0.95);
}

/* vivid game palette refresh */
.home.red {
  background: radial-gradient(circle at 30% 25%, #ff8a8a 0%, #ff4b4b 44%, #cc2138 100%) !important;
}

.home.green {
  background: radial-gradient(circle at 30% 25%, #7df2b8 0%, #29d07f 46%, #12935a 100%) !important;
}

.home.yellow {
  background: radial-gradient(circle at 30% 25%, #ffe99a 0%, #ffc743 45%, #eb9200 100%) !important;
}

.home.blue {
  background: radial-gradient(circle at 30% 25%, #8ad6ff 0%, #42a5ff 44%, #2b67e5 100%) !important;
}

.path.red {
  background: #ff5966 !important;
}

.path.green {
  background: #35d487 !important;
}

.path.yellow {
  background: #ffc943 !important;
}

.path.blue {
  background: #53b0ff !important;
}

.center-red {
  background: #35d487 !important;
}

.center-green {
  background: #ffc943 !important;
}

.center-yellow {
  background: #53b0ff !important;
}

.center-blue {
  background: #ff4c5e !important;
}

/* keep inactive homes visible with their own color border */
.home.red.disabled-home {
  outline-color: #ff6f7b;
}

.home.green.disabled-home {
  outline-color: #49e29a;
}

.home.yellow.disabled-home {
  outline-color: #ffd86a;
}

.home.blue.disabled-home {
  outline-color: #74c3ff;
}

/* screenshot-like board palette + brighter base */
body {
  background: linear-gradient(180deg, #25c0ff 0%, #5fd0ff 40%, #9bd84b 100%) !important;
}

.ludo-board {
  background: #ffffff !important;
  border-radius: 12px !important;
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.18) !important;
}

.cell {
  border: 1px solid #bfc4c7 !important;
  background: #ffffff !important;
}

.path {
  background: #ffffff !important;
  border-color: #bfc4c7 !important;
}

.home.red { background: #d0352f !important; }
.home.green { background: #7cc14a !important; }
.home.yellow { background: #f4c532 !important; }
.home.blue { background: #14a4e0 !important; }

.path.red { background: #d0352f !important; }
.path.green { background: #7cc14a !important; }
.path.yellow { background: #f4c532 !important; }
.path.blue { background: #14a4e0 !important; }

.center-red { background: #7cc14a !important; }
.center-green { background: #f4c532 !important; }
.center-yellow { background: #14a4e0 !important; }
.center-blue { background: #d0352f !important; }

.cell.safe-star::before {
  content: "â˜…";
  color: #0b6ea4;
  font-size: 18px;
  text-shadow: none;
}

/* final screenshot-locked palette + top-left level badge */
:root {
  --bg-top: #1fb8ee;
  --bg-mid: #72d2ee;
  --bg-bottom: #a6d55a;
  --ludo-red: #c62a33;
  --ludo-green: #8bc34a;
  --ludo-yellow: #f2c62d;
  --ludo-blue: #1fa9df;
  --grid-line: #3e3e3e;
}

body {
  background: linear-gradient(180deg, var(--bg-top) 0%, var(--bg-mid) 45%, var(--bg-bottom) 100%) !important;
}

.ludo-board {
  background: #ffffff !important;
  border-radius: 0 !important;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2) !important;
}

.cell,
.path {
  background: #ffffff !important;
  border: 1px solid var(--grid-line) !important;
}

.home.red,
.path.red {
  background: var(--ludo-red) !important;
}

.home.green,
.path.green {
  background: var(--ludo-green) !important;
}

.home.yellow,
.path.yellow {
  background: var(--ludo-yellow) !important;
}

.home.blue,
.path.blue {
  background: var(--ludo-blue) !important;
}

.center-red { background: var(--ludo-green) !important; }
.center-green { background: var(--ludo-yellow) !important; }
.center-yellow { background: var(--ludo-blue) !important; }
.center-blue { background: var(--ludo-red) !important; }

.cell.safe-star::before {
  content: "*";
  color: #1f80b6;
  font-size: 18px;
  font-weight: 900;
  text-shadow: none;
}

.level-badge {
  position: fixed;
  top: 16px;
  left: 16px;
  width: 52px;
  height: 52px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.92);
  border: 3px solid #efc995;
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.18);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 30px;
  font-weight: 900;
  color: #2d2d2d;
  z-index: 120;
  line-height: 1;
}

.bg-slideshow {
  position: fixed;
  inset: 0;
  z-index: 0;
  overflow: hidden;
}

.bg-layer {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0;
  transition: opacity 10s linear;
  will-change: opacity;
}

.bg-layer.bg-a {
  opacity: 1;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: linear-gradient(180deg, rgba(16, 30, 38, 0.2), rgba(14, 22, 28, 0.35));
  pointer-events: none;
  z-index: 1;
}

.game-wrapper,
.result-modal,
.level-badge,
.restart-btn,
.coin-hud,
.coin-fx-layer {
  z-index: 2;
}

.restart-btn {
  position: fixed;
  top: 16px;
  right: 16px;
  border: 2px solid #f0cf9d;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.93);
  color: #243340;
  font-size: 16px;
  font-weight: 800;
  padding: 10px 14px;
  cursor: pointer;
}

.coin-hud {
  position: fixed;
  top: 16px;
  left: 84px;
  min-width: 108px;
  height: 52px;
  padding: 0 12px 0 8px;
  border: 3px solid #efc995;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.93);
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.18);
  display: flex;
  align-items: center;
  gap: 10px;
}

.coin-icon {
  width: 26px;
  height: 26px;
  border-radius: 50%;
  background: radial-gradient(circle at 35% 32%, #fff2a0 0%, #ffd54f 40%, #d4a324 100%);
  border: 2px solid #c18e12;
  box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.25);
  display: inline-block;
}

.coin-total {
  font-size: 24px;
  font-weight: 900;
  color: #2d2d2d;
  line-height: 1;
}

.coin-fx-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
}

.coin-fly {
  position: fixed;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: radial-gradient(circle at 35% 32%, #fff2a0 0%, #ffd54f 40%, #d4a324 100%);
  border: 2px solid #c18e12;
  box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  animation: coin-fly 900ms ease-out forwards;
}

@keyframes coin-fly {
  0% {
    opacity: 0.95;
    transform: translate(-50%, -50%) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.4);
  }
}

.result-card {
  min-width: 320px;
  max-width: min(92vw, 460px);
  text-align: center;
}

#result-title {
  margin: 0 0 10px;
  font-size: 34px;
}

#result-subtitle {
  margin: 0 0 16px;
  font-size: 16px;
  font-weight: 700;
}

.result-actions {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
}

.result-actions button {
  border: 2px solid #d8d8d8;
  border-radius: 10px;
  background: #ffffff;
  font-size: 15px;
  font-weight: 800;
  padding: 10px 14px;
  cursor: pointer;
}

/* final dice/back-button overrides */
.back-levels-btn {
  position: fixed;
  top: 16px;
  right: 118px;
  border: 2px solid #f0cf9d;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.93);
  color: #243340;
  font-size: 16px;
  font-weight: 800;
  padding: 10px 14px;
  cursor: pointer;
  z-index: 130;
}

.dice-panel {
  perspective: 1000px !important;
  overflow: visible !important;
}

.dice-panel.dice-active {
  border-radius: 14px !important;
  box-shadow: 0 0 0 1px #fff, 0 0 12px 4px rgba(255, 215, 0, 0.7) !important;
}

.dice {
  --dice-size: 90px;
  width: var(--dice-size) !important;
  height: var(--dice-size) !important;
  transform-style: preserve-3d !important;
  transition: transform 0.28s cubic-bezier(.17, .67, .5, 1.15) !important;
  will-change: transform;
}

.dice .face {
  width: var(--dice-size) !important;
  height: var(--dice-size) !important;
  background: #ffffff !important;
  border: 1px solid #d7dde3 !important;
  box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.1) !important;
  border-radius: 10px;
  overflow: hidden;
  backface-visibility: hidden;
}

.dice .face img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  display: block;
  border-radius: 8px;
}

.one   { transform: rotateY(0deg) translateZ(calc(var(--dice-size) / 2)) !important; }
.two   { transform: rotateY(90deg) translateZ(calc(var(--dice-size) / 2)) !important; }
.three { transform: rotateY(180deg) translateZ(calc(var(--dice-size) / 2)) !important; }
.four  { transform: rotateY(-90deg) translateZ(calc(var(--dice-size) / 2)) !important; }
.five  { transform: rotateX(90deg) translateZ(calc(var(--dice-size) / 2)) !important; }
.six   { transform: rotateX(-90deg) translateZ(calc(var(--dice-size) / 2)) !important; }

/* keep finished tokens inside center goal slots */
.goal-slot .token {
  width: 24% !important;
  height: 24% !important;
  padding: 0 !important;
}

/* keep active die glow always visible */
.dice-panel {
  z-index: 120 !important;
  overflow: visible !important;
}

.dice-panel.dice-active {
  z-index: 140 !important;
  border-radius: 14px !important;
  box-shadow: 0 0 0 2px #ffffff, 0 0 16px 6px rgba(255, 215, 0, 0.88) !important;
  background: rgba(255, 255, 255, 0.06) !important;
}

.dice-panel.clickable {
  cursor: pointer !important;
}

.dice-panel.clickable .dice,
.dice-panel.clickable .dice * {
  cursor: pointer !important;
}

.dice .face,
.dice .face img {
  pointer-events: none !important;
}

.hub-back-btn {
  position: fixed;
  top: 16px;
  right: 236px;
  border: 2px solid #f0cf9d;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.93);
  color: #243340;
  text-decoration: none;
  font-size: 16px;
  font-weight: 800;
  padding: 10px 14px;
  line-height: 1;
  z-index: 130;
}

@media (max-width: 900px) {
  body {
    min-height: 100svh;
    overflow: auto;
    align-items: flex-start;
    justify-content: center;
    padding: calc(70px + env(safe-area-inset-top, 0px)) 8px 18px;
  }

  .game-wrapper {
    width: 100%;
    justify-content: center;
  }

  .ludo-stage {
    display: grid;
    grid-template-columns: repeat(2, minmax(60px, 1fr));
    grid-template-areas:
      "board board"
      "dice1 dice2"
      "dice4 dice3";
    gap: 10px;
    justify-items: center;
    align-items: center;
  }

  .ludo-board {
    grid-area: board;
    width: min(88vw, 520px);
    height: min(88vw, 520px);
  }

  .dice-panel {
    position: static !important;
    width: auto;
    height: auto;
    z-index: 120 !important;
  }

  .dice-panel.top-left {
    grid-area: dice1;
  }

  .dice-panel.top-right {
    grid-area: dice2;
  }

  .dice-panel.bottom-left {
    grid-area: dice4;
  }

  .dice-panel.bottom-right {
    grid-area: dice3;
  }

  .dice {
    --dice-size: 62px;
  }

  .level-badge {
    top: calc(10px + env(safe-area-inset-top, 0px));
    left: 10px;
    width: 44px;
    height: 44px;
    font-size: 24px;
  }

  .coin-hud {
    top: calc(10px + env(safe-area-inset-top, 0px));
    left: 60px;
    height: 44px;
    min-width: 92px;
    padding: 0 10px 0 8px;
  }

  .coin-total {
    font-size: 20px;
  }

  .coin-icon {
    width: 22px;
    height: 22px;
  }

  .restart-btn {
    top: calc(10px + env(safe-area-inset-top, 0px));
    right: 10px;
    font-size: 14px;
    padding: 8px 11px;
  }

  .back-levels-btn {
    top: calc(58px + env(safe-area-inset-top, 0px));
    right: 10px;
    font-size: 14px;
    padding: 8px 11px;
  }

  .hub-back-btn {
    top: calc(58px + env(safe-area-inset-top, 0px));
    left: 10px;
    right: auto;
    font-size: 14px;
    padding: 8px 11px;
  }
}

/* Mobile landscape override */
.rotate-overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:20px;z-index:1000;background:rgba(8,14,22,.92)}
.rotate-overlay.show{display:flex}
.rotate-card{width:min(92vw,420px);border-radius:16px;border:2px solid rgba(255,255,255,.2);background:rgba(255,255,255,.08);color:#f7fbff;text-align:center;padding:18px 16px}
.rotate-icon{font-size:14px;letter-spacing:.12em;font-weight:800;margin-bottom:8px}
.rotate-card h2{margin:0 0 8px;font-size:24px}
.rotate-card p{margin:0 0 12px;font-size:14px;color:rgba(255,255,255,.86)}
#rotate-try-btn{border:0;border-radius:10px;padding:10px 12px;font-size:14px;font-weight:800;background:linear-gradient(135deg,#39f3c4,#08b88c);color:#04241b;cursor:pointer}
@media (max-width:900px) and (orientation:landscape){body{overflow:hidden!important;padding:calc(8px + env(safe-area-inset-top,0px)) 8px calc(8px + env(safe-area-inset-bottom,0px))!important;align-items:center!important;justify-content:center!important}.game-wrapper{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.ludo-stage{position:relative;display:inline-block}.ludo-board{width:min(74vh,74vw)!important;height:min(74vh,74vw)!important;grid-area:unset!important}.dice-panel{position:absolute!important;width:76px;height:76px}.dice-panel.top-left{left:-92px!important;top:-92px!important}.dice-panel.top-right{right:-92px!important;top:-92px!important}.dice-panel.bottom-left{left:-92px!important;bottom:-92px!important}.dice-panel.bottom-right{right:-92px!important;bottom:-92px!important}.dice{--dice-size:68px}.restart-btn,.back-levels-btn,.hub-back-btn{font-size:13px!important;padding:7px 10px!important}}
@media (max-width:900px) and (orientation:portrait){.game-wrapper,.level-badge,.coin-hud,.restart-btn,.back-levels-btn,.hub-back-btn,.result-modal{display:none!important}body.needs-landscape{overflow:hidden!important}}

/* requested mobile portrait gameplay layout + control cleanup */
.hub-back-btn,
.level-badge,
.rotate-overlay {
  display: none !important;
}

@media (max-width: 900px) and (orientation: portrait) {
  :root {
    --mobile-board-size: min(95vw, 50svh);
  }

  body {
    min-height: 100svh !important;
    overflow: auto !important;
    align-items: center !important;
    justify-content: center !important;
    padding: calc(64px + env(safe-area-inset-top, 0px)) 0 calc(12px + env(safe-area-inset-bottom, 0px)) !important;
  }

  body.needs-landscape {
    overflow: auto !important;
  }

  .game-wrapper {
    width: 100% !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
  }

  .ludo-stage {
    width: var(--mobile-board-size) !important;
    display: grid !important;
    grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
    grid-template-areas:
      "dice1 dice2 dice3 dice4"
      "board board board board" !important;
    row-gap: 0 !important;
    column-gap: 0 !important;
    align-items: end !important;
    justify-items: stretch !important;
  }

  .dice-panel {
    position: static !important;
    width: auto !important;
    height: auto !important;
    margin: 0 !important;
    padding: 0 !important;
    display: flex !important;
    align-items: flex-end !important;
    justify-content: center !important;
    z-index: 120 !important;
  }

  .dice-panel.top-left {
    grid-area: dice1 !important;
    justify-content: flex-start !important;
  }

  .dice-panel.top-right {
    grid-area: dice2 !important;
  }

  .dice-panel.bottom-right {
    grid-area: dice3 !important;
  }

  .dice-panel.bottom-left {
    grid-area: dice4 !important;
    justify-content: flex-end !important;
  }

  .dice {
    --dice-size: clamp(42px, calc(var(--mobile-board-size) / 5.4), 56px) !important;
  }

  .ludo-board {
    grid-area: board !important;
    width: var(--mobile-board-size) !important;
    height: var(--mobile-board-size) !important;
    margin: 0 !important;
    justify-self: center !important;
    grid-template-columns: repeat(15, minmax(0, 1fr)) !important;
    grid-template-rows: repeat(15, minmax(0, 1fr)) !important;
    contain: layout size style;
  }

  .cell,
  .path,
  .token-slot,
  .home,
  .home-inner {
    min-width: 0 !important;
    min-height: 0 !important;
  }

  .token {
    max-width: 100% !important;
    max-height: 100% !important;
    flex: 0 0 auto !important;
  }

  .coin-hud {
    display: flex !important;
    top: calc(10px + env(safe-area-inset-top, 0px)) !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
  }

  .back-levels-btn {
    display: inline-flex !important;
    top: calc(10px + env(safe-area-inset-top, 0px)) !important;
    left: 10px !important;
    right: auto !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .restart-btn {
    display: inline-flex !important;
    top: calc(10px + env(safe-area-inset-top, 0px)) !important;
    right: 10px !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .result-modal {
    display: none;
  }

  .result-modal.show {
    display: flex !important;
  }
}

/* final mobile portrait fix: centered board + true corner dice + correct dice count */
@media (max-width: 900px) and (orientation: portrait) {
  body {
    min-height: 100svh !important;
    overflow: hidden !important;
    align-items: center !important;
    justify-content: center !important;
    padding: calc(66px + env(safe-area-inset-top, 0px)) 0 calc(10px + env(safe-area-inset-bottom, 0px)) !important;
  }

  .game-wrapper {
    width: 100% !important;
    height: 100% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .ludo-stage {
    position: relative !important;
    width: min(95vw, 50svh) !important;
    height: min(95vw, 50svh) !important;
    display: block !important;
  }

  .ludo-board {
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    grid-area: unset !important;
  }

  .dice-panel {
    position: absolute !important;
    width: auto !important;
    height: auto !important;
    margin: 0 !important;
    padding: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .dice-panel.top-left {
    left: 0 !important;
    top: 0 !important;
    transform: translateY(-100%) !important;
  }

  .dice-panel.top-right {
    right: 0 !important;
    top: 0 !important;
    transform: translateY(-100%) !important;
  }

  .dice-panel.bottom-left {
    left: 0 !important;
    bottom: 0 !important;
    transform: translateY(100%) !important;
  }

  .dice-panel.bottom-right {
    right: 0 !important;
    bottom: 0 !important;
    transform: translateY(100%) !important;
  }

  .dice {
    --dice-size: clamp(44px, 13vw, 54px) !important;
  }

  .dice-panel.inactive {
    display: none !important;
  }

  .cell,
  .path,
  .token-slot,
  .home,
  .home-inner {
    min-width: 0 !important;
    min-height: 0 !important;
  }

  .token {
    max-width: 100% !important;
    max-height: 100% !important;
    flex: 0 0 auto !important;
  }
}
